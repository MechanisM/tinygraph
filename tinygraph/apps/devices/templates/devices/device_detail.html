{% extends "devices/devices_base.html" %}

{% load data_object_filters %}

{% block content_title %}{{ device }}{% endblock %}

{% block content_area %}

    <div id="path">
        <h1><a href="{{ device.get_absolute_url }}">{{ device.user_given_name }}</a></h1>
        
        <ul id="actions">
            <li><a href="{% url devices:device_data_object_list device_slug=device.slug %}">Data Objects</a></li>
            <li><a href="{% url devices:device_edit device_slug=device.slug %}">Edit</a></li>
            <li><a href="{% url devices:device_delete device_slug=device.slug %}">Delete</a></li>
        </ul>
    </div>
    
    <div class="details">
        <div>
            <dl>
                <dt>Name</dt>
                <dd>{{ device.user_given_name }}</dd>
            </dl>
            <dl>
                <dt>IP Address</dt>
                <dd>{{ device.ip_address }}</dd>
            </dl>
            <dl>
                <dt>FQ Domain Name</dt>
                <dd>{{ device.fqdn }}</dd>
            </dl>
            <dl>
                <dt>Uptime</dt>
                <dd><del>100 days</del></dd>
            </dl>
        </div>
    </div>
    
    <div class="columns">
        <div class="first">
            <h2>Packages</h2>
            <ul>
                {% for package_instance, package_instance_membership in package_instances %}
                    <li>
                        <h3>{{ package_instance.package.title }}</h3>
                        <div class="body">
                            <ul>
                                {% for package_instance_membership in package_instance_membership %}
                                    <li>{{ package_instance_membership.package_membership.data_object.derived_name }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="last">
            <h3>Events</h3>
            <ul>
                {% for event in events %}
                    <li>{{ event.message }}</li>
                {% endfor %}
            </ul>
            <del><a href="">View All Events</a></del>
        </div>
    </div>
{% endblock %}